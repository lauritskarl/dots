{{- if eq .chezmoi.os "linux" -}}
{{-   if eq .chezmoi.osRelease.id "arch" -}}
#!/bin/bash

# Native packages from official repos
packages=(
    "git"
    "curl"
    "wget"
    "base-devel"
    "php"
    "composer"
    "ffmpeg"
    "p7zip"
    "imagemagick"
    "gnupg"
    "starship"
    "fish"
    "mise"
    "helix"
    "postgresql-libs"
    "wireshark-qt"
    "nmap"
    "mpv"
    "poppler"
    "libreoffice-fresh"
    "discord"
    "signal-desktop"
    "winbox"
)

echo "Installing official packages via pacman..."
sudo pacman -Syu --noconfirm "${packages[@]}" #

# AUR Packages
# Check for an AUR helper (yay or paru)
aur_packages=(
    "1password"
    "rustdesk-bin"
    "ttf-monaspace"
    "ghostty-git"
)

if command -v yay &> /dev/null; then
    echo "Installing AUR packages via yay..."
    yay -S --noconfirm "${aur_packages[@]}"
elif command -v paru &> /dev/null; then
    echo "Installing AUR packages via paru..."
    paru -S --noconfirm "${aur_packages[@]}"
else
    echo "AUR helper (yay/paru) not found. Skipping AUR packages:"
    printf " - %s\n" "${aur_packages[@]}"
    echo "Please install them manually or install yay/paru."
fi

{{-   end -}}
{{- end -}}
